---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getAllCheatsheets } from "../../lib/cheatsheets";

const all = getAllCheatsheets().sort((a, b) => {
  const ap = a.product.localeCompare(b.product);
  if (ap !== 0) return ap;
  return a.name.localeCompare(b.name);
});
---

<BaseLayout
  title="Cheatsheets | ChSON"
  description="Browse example cheatsheets in ChSON format."
>
  <h1 class="font-display text-[clamp(28px,4vw,40px)] font-semibold tracking-[-0.03em]">Cheatsheets</h1>
  <p class="mt-3 text-zinc-600">Source of truth lives in <code class="font-mono">cheatsheets/**</code> as <code class="font-mono">.chson.json</code>.</p>

  <div class="mt-5 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
    {all.map((s) => (
      <a
        class="grid min-h-[120px] gap-2 rounded-xl2 border border-black/10 bg-white/70 p-4 shadow-soft hover:border-black/20 hover:no-underline"
        href={`${import.meta.env.BASE_URL}cheatsheets/${s.product}/${s.name}/`}
      >
        <div class="grid gap-0.5">
          <div class="font-semibold">{s.data.title}</div>
          <div class="text-xs text-zinc-600">{s.product}/{s.name}</div>
        </div>
        <div class="text-sm text-zinc-600">{s.data.description}</div>
      </a>
    ))}
  </div>
</BaseLayout>
